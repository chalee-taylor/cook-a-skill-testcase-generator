# TC_UNSPLASH_F2_PHOTO_SEARCH.md â€” Test Cases: Photo Search & Discovery

**Generated by:** Test Case Generator Skill v1.1.0
**Source Spec:** SPEC_UNSPLASH.md â€” Feature 2
**Feature:** Photo Search & Discovery
**Coverage Level:** full
**Enable Security:** true
**Generated At:** 2026-02-27
**Output Format:** markdown

---

## Pre-run Report

### Step 0 â€” PII Masking

Scanned spec for PII patterns. No real PII found. All email/user references are synthetic test data.

**PII Masking Report:** Fields redacted: 0

---

### Intelligence Scan Report â€” Photo Search & Discovery

#### Feature Identified
- **Type:** Search / Filter + Infinite Scroll
- **Name:** Photo Search & Discovery
- **Language:** English

#### Business Rules Extracted

Total: **10 rules**

| ID | Rule Summary |
|---|---|
| BR-001 | Search bar accessible on all pages for all users (Guest + Registered) |
| BR-002 | Search results filtered into 3 tabs: Photos, Collections, Users |
| BR-003 | Tag suggestions shown at top of each search result page |
| BR-004 | Homepage: infinite-scroll photo grid |
| BR-005 | Max 20 photos per page; pagination supported |
| BR-006 | 0 results â†’ empty state: "We couldn't find anything for [keyword]" + suggestions |
| BR-007 | Trending/popular searches displayed below search bar on homepage |
| BR-008 | Category navigation links filter photo grid by category |
| BR-009 | Sort options: Relevance (default) or Latest |
| BR-010 | Search keyword: 1â€“200 characters; whitespace-only treated as empty |

#### User Flows Detected

Total: **3 flows**

1. Happy Path â€” Keyword Search (9 steps)
2. Alternative Flow â€” Category Navigation (3 steps)
3. Alternative Flow â€” Sort Results (2 steps)

#### Risk Areas Flagged

| Risk Category | Detected? | Evidence |
|---|---|---|
| Authentication / Auth | No | Both Guest and Registered can search |
| Input Validation | **Yes** | Keyword length 1â€“200, whitespace-only rule |
| File Upload | No | â€” |
| Payment Processing | No | â€” |
| External API / Service | No | â€” |
| PII / Sensitive Data | No | â€” |
| Rate Limiting | **Yes** | "Rapid search submissions â€” only latest processed" |
| Permissions / Roles | No | â€” |

#### Spec Quality Assessment
- **Confidence: High**
- Has user flow: Yes
- Has business rules: Yes
- Has validation conditions: Yes
- Missing elements: None critical

#### Coverage Recommendation
- **Recommended: `full`** â€” Input validation boundaries, infinite scroll edge cases, and XSS risk on search field

#### Estimated Output
- Estimated TC count: ~22 TCs
- Traceability matrix: included

#### Spec Gaps Detected

| Gap Type | Detected? | Impact |
|---|---|---|
| No failure/error scenarios | Partial | Scroll load failure is noted in edge cases; success path is primary focus |
| No boundary conditions in rules | No | â€” |
| Vague expected behavior | Partial | BR-007 "Trending searches displayed" â€” exact location/format unspecified |
| External dependency unspecified | No | â€” |
| No roles or permissions defined | No | â€” |
| Contradictory rules | No | â€” |
| Only happy path described | No | â€” |

---

## Test Cases â€” Photo Search & Discovery

### ðŸŸ¢ Happy Path

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-001 | Keyword search returns photo results on Photos tab | Happy Path | P1 - Critical | BR-001, BR-002, BR-003, BR-005 | No active session. https://unsplash.com/ is open. | keyword: mountain | 1. Navigate to https://unsplash.com/ 2. Click the search bar in the header 3. Type: mountain 4. Press Enter | Search results page loads. Photos tab is active by default. Grid of up to 20 photos visible. Tag suggestions relevant to "mountain" shown at the top of results. |
| TC-002 | Switch to Collections tab shows collection results for keyword | Happy Path | P2 - High | BR-002 | Search results page for keyword "mountain" is open with Photos tab active. | tab: Collections | 1. On search results page for "mountain" 2. Click the "Collections" tab | Results update to show collections matching "mountain". Collections (not individual photos) are displayed. URL may update to reflect tab. |
| TC-003 | Switch to Users tab shows user profile results for keyword | Happy Path | P2 - High | BR-002 | Search results page for keyword "mountain" is open. | tab: Users | 1. On search results page for "mountain" 2. Click the "Users" tab | Results update to show user profiles matching "mountain". User avatars and usernames displayed. |
| TC-004 | Category navigation filters homepage grid by selected category | Happy Path | P1 - Critical | BR-008 | https://unsplash.com/ is open. Header navigation with category links is visible. | category: Architecture | 1. Navigate to https://unsplash.com/ 2. Click "Architecture" in the header category navigation | Photo grid filters to show photos tagged "Architecture". URL updates to https://unsplash.com/s/photos/architecture |
| TC-005 | Sort by Latest re-fetches results in descending date order | Happy Path | P2 - High | BR-009 | Search results page for keyword "sunset" is open (sorted by Relevance). | sort_order: Latest | 1. Search for: sunset 2. On results page, locate the sort dropdown (default: Relevance) 3. Select "Latest" from the sort dropdown | Results page reloads with photos sorted by upload date descending. Most recently uploaded photos appear first. |
| TC-006 | Infinite scroll loads next batch on homepage | Happy Path | P1 - Critical | BR-004 | https://unsplash.com/ is open. Initial grid of photos is loaded. | â€” | 1. Navigate to https://unsplash.com/ 2. Scroll down to the bottom of the photo grid 3. Wait for the next batch to load | New photos automatically load below the existing grid. No manual button click required. Total photos visible increases. |
| TC-007 | Clicking a tag suggestion refines search results | Happy Path | P2 - High | BR-003 | Search results page for "nature" is open. Tag suggestions are visible. | keyword: nature / tag: forest | 1. Search for: nature 2. Observe tag suggestions at top of results 3. Click tag: "forest" | Search results update to show photos matching "forest". URL updates to reflect the tag search. |

### ðŸ”´ Negative

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-008 | Whitespace-only keyword does not trigger search | Negative | P2 - High | BR-010 | https://unsplash.com/ is open. Search bar is focused. | keyword: "   " (3 spaces) | 1. Navigate to https://unsplash.com/ 2. Click the search bar 3. Type 3 spaces 4. Press Enter | Search does not trigger. No results page loads. Cursor remains in the search bar. No network request sent for whitespace query. |
| TC-009 | Empty search field does not submit | Negative | P2 - High | BR-010 | https://unsplash.com/ is open. | keyword: "" (empty) | 1. Navigate to https://unsplash.com/ 2. Click the search bar (leave empty) 3. Press Enter | Search does not trigger. User remains on homepage. No error page or results page loaded. |
| TC-010 | Keyword with zero results shows empty-state message | Negative | P2 - High | BR-006 | https://unsplash.com/ is open. | keyword: xyznonexistentkeyword12345qwerty | 1. Navigate to https://unsplash.com/ 2. Search for: xyznonexistentkeyword12345qwerty 3. Press Enter | Empty state displayed: "We couldn't find anything for xyznonexistentkeyword12345qwerty". Suggested alternative search terms shown. No photo grid rendered. |

### ðŸŸ¡ Edge Cases

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-011 | Keyword at exactly 200 characters is accepted and searched | Edge Case | P2 - High | BR-010 | https://unsplash.com/ is open. | keyword: "a" repeated 200 times (200 chars) | 1. Navigate to https://unsplash.com/ 2. Type exactly 200 characters into the search bar 3. Press Enter | Search triggers normally. Results page (or empty state) displayed. No character-limit error. |
| TC-012 | Keyword at 201 characters is silently truncated to 200 before search | Edge Case | P2 - High | BR-010 | https://unsplash.com/ is open. | keyword: "a" repeated 201 times (201 chars) | 1. Navigate to https://unsplash.com/ 2. Type 201 characters into search bar 3. Press Enter | Input is truncated to 200 characters. Search triggers with 200-char keyword. No error shown. URL or request param reflects 200-char truncation. |
| TC-013 | Special characters in keyword (#nature) are accepted | Edge Case | P3 - Medium | BR-010 | https://unsplash.com/ is open. | keyword: #nature | 1. Navigate to https://unsplash.com/ 2. Type: #nature into search bar 3. Press Enter | Search triggers. Results page loads. No rejection or error for the # character. Results may be tag-based. |
| TC-014 | Unicode / emoji in keyword is accepted and processed | Edge Case | P3 - Medium | BR-010 | https://unsplash.com/ is open. | keyword: ðŸŒŠ ocean | 1. Navigate to https://unsplash.com/ 2. Type: ðŸŒŠ ocean into search bar 3. Press Enter | Search triggers. Results page loads. No encoding error. System processes emoji + text keyword. |
| TC-015 | Rapid successive search submissions process only the latest | Edge Case | P2 - High | BR-010 | https://unsplash.com/ is open. | keywords: "cat" then "dog" typed fast | 1. Navigate to https://unsplash.com/ 2. Type "cat" and immediately press Enter 3. Before results load, clear and type "dog" and press Enter | Only results for "dog" are displayed. Previous "cat" request is cancelled or ignored. No mixed result state shown. |
| TC-016 | Scroll-triggered load failure shows spinner then retry button | Edge Case | P2 - High | BR-004 | https://unsplash.com/ is open with photos loaded. Network is throttled to simulate failure. | â€” | 1. Navigate to https://unsplash.com/ 2. Throttle network to simulate failure 3. Scroll to bottom of grid | Loading spinner appears. On failure: a retry button is shown. Existing photos remain visible. No blank page or crash. |
| TC-017 | Trending searches visible on homepage below search bar | Edge Case | P3 - Medium | BR-007 | https://unsplash.com/ is open. No search has been performed. | â€” | 1. Navigate to https://unsplash.com/ 2. Click the search bar without typing | Trending/popular search suggestions displayed below the search bar input. |
| TC-018 | Clicking a photo thumbnail in results opens Photo Detail page | Edge Case | P1 - Critical | BR-001 | Search results page for "mountain" is open. At least 1 photo is visible. | â€” | 1. Search for: mountain 2. Click any photo thumbnail in the results grid | Photo Detail page opens. Full-size photo, photographer info, download button, and stats (views, downloads, likes) are displayed. |

### ðŸ”’ Security

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-019 | XSS payload in search keyword is not executed | Security | P1 - Critical | BR-010 | https://unsplash.com/ is open. | keyword: `<script>alert('XSS')</script>` | 1. Navigate to https://unsplash.com/ 2. Type `<script>alert('XSS')</script>` into the search bar 3. Press Enter | No JavaScript alert triggered. Search keyword is displayed as plain text (HTML-escaped) in the results page heading or empty state. No script execution. |
| TC-020 | SQL injection in search keyword does not expose DB errors | Security | P1 - Critical | BR-010 | https://unsplash.com/ is open. | keyword: `' OR '1'='1'--` | 1. Navigate to https://unsplash.com/ 2. Type: `' OR '1'='1'--` into search bar 3. Press Enter | No SQL error, stack trace, or database schema is displayed. System returns 0 results or irrelevant results. Error page (if any) is generic. |
| TC-021 | Search results do not expose private or unlisted photos | Security | P2 - High | BR-001 | Photo with private/unlisted status exists. No active session (guest user). | keyword: title of a private/unlisted photo | 1. Search for a known private photo title 2. Review all tabs (Photos, Collections, Users) | Private or unlisted photo does not appear in search results. Results only include publicly available content. |
| TC-022 | Category URL path traversal does not expose internal routes | Security | P2 - High | BR-008 | https://unsplash.com/ is open. | category slug: `../../admin` | 1. Manually navigate to: https://unsplash.com/s/photos/../../admin 2. Observe the system response | System returns 404 or redirects to a safe error page. No internal admin panel or restricted route is exposed. Path traversal payload is not processed. |

---

## Traceability Matrix

| Rule ID | Rule Description | Covered By | Status |
|---|---|---|---|
| BR-001 | Search bar accessible on all pages, all users | TC-001, TC-018, TC-021 | âœ… Covered |
| BR-002 | Results in 3 tabs: Photos, Collections, Users | TC-001, TC-002, TC-003 | âœ… Covered |
| BR-003 | Tag suggestions shown at top of results | TC-001, TC-007 | âœ… Covered |
| BR-004 | Infinite-scroll photo grid on homepage | TC-006, TC-016 | âœ… Covered |
| BR-005 | Max 20 photos per page, pagination supported | TC-001 | âœ… Covered |
| BR-006 | 0 results â†’ empty state with suggestions | TC-010 | âœ… Covered |
| BR-007 | Trending searches shown on homepage | TC-017 | âœ… Covered |
| BR-008 | Category nav filters by category | TC-004, TC-022 | âœ… Covered |
| BR-009 | Sort: Relevance or Latest | TC-005 | âœ… Covered |
| BR-010 | Keyword 1â€“200 chars; whitespace = empty | TC-008, TC-009, TC-011, TC-012, TC-013, TC-014, TC-019, TC-020 | âœ… Covered |

---

## Coverage Summary

| Type | Count |
|---|---|
| ðŸŸ¢ Happy Path | 7 |
| ðŸ”´ Negative | 3 |
| ðŸŸ¡ Edge Case | 8 |
| ðŸ”’ Security | 4 |
| **Total** | **22** |

**Rule Coverage:** 10 / 10 rules = **100%**

---

## Test Execution Report

```
Feature:      Photo Search & Discovery
Source Spec:  SPEC_UNSPLASH.md â€” Feature 2
Tester:       ___________
Date:         ___________
Environment:  ___________
Build/Version:___________

| Total TCs | Pass | Fail | Blocked | Not Run |
|-----------|------|------|---------|---------|
|    22     |      |      |         |         |

Defects Found:
| Bug ID | TC ID | Rule Ref | Description | Severity | Status |
|--------|-------|----------|-------------|----------|--------|
|        |       |          |             |          |        |

Sign-off:
[ ] QC Lead Review: ___________
[ ] Security Review (if applicable): ___________
[ ] Ready for Release
```
