# TC_UNSPLASH_F8_USER_PROFILE.md ‚Äî Test Cases: User Profile

**Generated by:** Test Case Generator Skill v1.1.0
**Source Spec:** SPEC_UNSPLASH.md ‚Äî Feature 8
**Feature:** User Profile
**Coverage Level:** full
**Enable Security:** true
**Generated At:** 2026-02-27
**Output Format:** markdown

---

## Pre-run Report

### Step 0 ‚Äî PII Masking

Scanned spec for PII patterns. No real PII found. All references are synthetic test data.

**PII Masking Report:** Fields redacted: 0

---

### Intelligence Scan Report ‚Äî User Profile

#### Feature Identified
- **Type:** Public Profile View + Authenticated Edit Form
- **Name:** User Profile
- **Language:** English

#### Business Rules Extracted

Total: **13 rules**

| ID | Rule Summary |
|---|---|
| BR-068 | Profile URL format: https://unsplash.com/@{username} |
| BR-069 | Profile page is publicly visible (no login required to view) |
| BR-070 | Profile displays: avatar, name, bio, location, website, social links, followers/following |
| BR-071 | Profile tabs: Photos, Likes, Collections |
| BR-072 | Users can edit: name, username, bio, location, website, portfolio URL, social links |
| BR-073 | Username changes limited to once per 30 days |
| BR-074 | Bio max length: 200 characters |
| BR-075 | Website URL must start with http:// or https:// |
| BR-076 | Avatar: JPEG or PNG, max 5 MB, minimum 200√ó200 px |
| BR-077 | Profile stats: total photos uploaded, total downloads, total views |
| BR-078 | Admins can suspend or deactivate accounts |
| BR-079 | Inactive accounts with 0 photos: username reclaimed after 12 months |
| BR-080 | Inactive accounts with 1+ photos: username reclaimed after 24 months |

#### User Flows Detected

Total: **2 flows**

1. Happy Path ‚Äî View Profile (3 steps)
2. Happy Path ‚Äî Edit Profile (7 steps)

#### Risk Areas Flagged

| Risk Category | Detected? | Evidence |
|---|---|---|
| Authentication / Auth | **Yes** | Edit profile requires login; view is public |
| Input Validation | **Yes** | Username constraints (3‚Äì30 chars, alphanumeric+underscore), bio max 200, website URL format, avatar format/size |
| File Upload | **Yes** | Avatar: JPEG/PNG max 5 MB, min 200√ó200 px |
| Payment Processing | No | ‚Äî |
| External API / Service | No | ‚Äî |
| PII / Sensitive Data | **Yes** | Email, social handles, location, website URL in profile |
| Rate Limiting | **Yes** | Username change: 1 per 30 days |
| Permissions / Roles | **Yes** | Only owner can edit own profile; admin can suspend |

#### Spec Quality Assessment
- **Confidence: High**
- Has user flow: Yes
- Has business rules: Yes
- Has validation conditions: Yes
- Missing elements: Username reclaim mechanism (BR-079, BR-080) not UI-testable without admin tools

#### Coverage Recommendation
- **Recommended: `full`** ‚Äî Multi-field validation, rate-limited action (username change), avatar upload, and IDOR risk on profile edit

#### Estimated Output
- Estimated TC count: ~30 TCs
- Traceability matrix: included

#### Spec Gaps Detected

| Gap Type | Detected? | Impact |
|---|---|---|
| No failure/error scenarios | No | ‚Äî |
| No boundary conditions in rules | No | ‚Äî |
| Vague expected behavior | Partial | BR-078, BR-079, BR-080: admin/inactivity policies ‚Äî not fully specced for UI |
| External dependency unspecified | No | ‚Äî |
| No roles or permissions defined | No | ‚Äî |
| Contradictory rules | No | ‚Äî |
| Only happy path described | No | ‚Äî |

---

## Test Cases ‚Äî User Profile

### üü¢ Happy Path

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-001 | View public profile of any user without login | Happy Path | P1 - Critical | BR-068, BR-069, BR-070, BR-071, BR-077 | No active session. User "john_doe" is a registered user with uploaded photos. | username: john_doe | 1. Navigate to https://unsplash.com/@john_doe | Public profile page displayed. Shows: avatar, name, bio, location, website, social links, follower/following count. Photos tab active by default. Stats visible: total photos, downloads, views. |
| TC-002 | View profile tabs: Photos, Likes, Collections | Happy Path | P2 - High | BR-071 | Profile page for "john_doe" is open. John has photos, likes, and collections. | username: john_doe | 1. Navigate to https://unsplash.com/@john_doe 2. Click "Likes" tab 3. Click "Collections" tab | Each tab shows relevant content. Photos tab: uploaded photos. Likes tab: liked photos. Collections tab: created collections. |
| TC-003 | Edit profile with all valid fields and save changes | Happy Path | P1 - Critical | BR-068, BR-070, BR-072, BR-074, BR-075 | User editor@test.com is logged in. Profile edit form is open. | first_name: Jane / last_name: Smith / bio: "Photographer based in NYC" (26 chars) / location: "New York, USA" / website: https://janesmith.com / social_twitter: janesmithphoto / social_instagram: janesmithphoto | 1. Log in as editor@test.com 2. Click avatar ‚Üí "Edit profile" 3. Update all fields with valid data 4. Click "Save changes" | Profile updated successfully. User redirected to profile page showing updated info. No validation errors. |
| TC-004 | Change username when 30+ days have passed since last change | Happy Path | P1 - Critical | BR-072, BR-073 | User editor@test.com is logged in. Last username change was 31 days ago. | username: new_username_99 | 1. Log in as editor@test.com 2. Go to Edit Profile 3. Change username to: new_username_99 4. Click "Save changes" | Username updated successfully. Profile URL changes to https://unsplash.com/@new_username_99. No error shown. |
| TC-005 | Upload valid avatar image (JPEG, 1 MB, 300√ó300 px) | Happy Path | P1 - Critical | BR-076 | User editor@test.com is logged in. Profile edit form is open. | avatar: profile_pic.jpg (JPEG, 1 MB, 300√ó300 px) | 1. Log in as editor@test.com 2. Go to Edit Profile 3. Click "Upload avatar" 4. Select profile_pic.jpg 5. Click "Save changes" | Avatar uploaded. Profile page shows the new avatar image. No error shown. |

### üî¥ Negative

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-006 | Username change rejected within 30 days of last change | Negative | P1 - Critical | BR-073 | User editor@test.com is logged in. Last username change was 29 days ago. | username: another_name | 1. Log in as editor@test.com 2. Go to Edit Profile 3. Change username to: another_name 4. Click "Save changes" | Save fails. Error: "You can only change your username once every 30 days". Username unchanged. |
| TC-007 | Username with 2 characters is rejected | Negative | P2 - High | BR-072 | User editor@test.com is logged in. Profile edit form open. | username: ab (2 chars) | 1. Log in as editor@test.com 2. Go to Edit Profile 3. Enter username: ab 4. Click "Save changes" | Save fails. Inline error on username field. Username must be at least 3 characters. |
| TC-008 | Username with space is rejected | Negative | P2 - High | BR-072 | editor@test.com is logged in. Profile edit form open. | username: "hello world" (contains space) | 1. Go to Edit Profile 2. Enter username: hello world 3. Click "Save changes" | Save fails. Inline error: spaces not allowed in username. |
| TC-009 | Bio exceeding 200 characters is rejected | Negative | P2 - High | BR-074 | editor@test.com is logged in. Profile edit form open. | bio: "a" repeated 201 times (201 chars) | 1. Go to Edit Profile 2. Enter 201-character bio 3. Click "Save changes" | Save fails. Inline error on bio field: "Bio cannot exceed 200 characters". Or bio input field enforces max-length truncation at 200. |
| TC-010 | Website URL without protocol is rejected | Negative | P2 - High | BR-075 | editor@test.com is logged in. Profile edit form open. | website: "unsplash.com" (no http/https) | 1. Go to Edit Profile 2. Enter website: unsplash.com 3. Click "Save changes" | Save fails. Inline error: "Website URL must start with http:// or https://". |
| TC-011 | Avatar with HEIC format is rejected | Negative | P2 - High | BR-076 | editor@test.com is logged in. Profile edit form open. | avatar: photo.heic | 1. Go to Edit Profile 2. Click "Upload avatar" 3. Select photo.heic 4. Click "Save changes" | Avatar rejected. Error on avatar field: "Only JPEG and PNG files are accepted". |
| TC-012 | Avatar exceeding 5 MB is rejected | Negative | P2 - High | BR-076 | editor@test.com is logged in. Profile edit form open. | avatar: large_avatar.jpg (5.1 MB, JPEG, 400√ó400 px) | 1. Go to Edit Profile 2. Select large_avatar.jpg 3. Click "Save changes" | Avatar rejected. Error: "Avatar cannot exceed 5 MB". |
| TC-013 | Avatar with dimensions below 200√ó200 is rejected | Negative | P2 - High | BR-076 | editor@test.com is logged in. Profile edit form open. | avatar: tiny_pic.jpg (JPEG, 500 KB, 199√ó200 px) | 1. Go to Edit Profile 2. Select tiny_pic.jpg 3. Click "Save changes" | Avatar rejected. Error: "Avatar must be at least 200√ó200 pixels". |
| TC-014 | Viewing non-existent profile returns 404 | Negative | P2 - High | BR-068, BR-069 | No active session. Username "this_user_does_not_exist" is not registered. | username: this_user_does_not_exist | 1. Navigate to https://unsplash.com/@this_user_does_not_exist | 404 page displayed. No profile content shown. |

### üü° Edge Cases

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-015 | Username at exactly 3 characters (minimum) is accepted | Edge Case | P2 - High | BR-072 | editor@test.com is logged in. Username "abc" not taken. Last username change > 30 days ago. | username: abc (3 chars) | 1. Go to Edit Profile 2. Enter username: abc 3. Click "Save changes" | Username updated to "abc". No validation error. Profile URL updates to /abc. |
| TC-016 | Username at exactly 30 characters (maximum) is accepted | Edge Case | P2 - High | BR-072 | editor@test.com logged in. Username "abcdefghijklmnopqrstuvwxyz1234" not taken. | username: abcdefghijklmnopqrstuvwxyz1234 (30 chars) | 1. Go to Edit Profile 2. Enter 30-char username 3. Click "Save changes" | Username updated. No validation error. |
| TC-017 | Username at 31 characters is rejected | Edge Case | P2 - High | BR-072 | editor@test.com is logged in. Profile edit form open. | username: abcdefghijklmnopqrstuvwxyz12345 (31 chars) | 1. Go to Edit Profile 2. Enter 31-char username 3. Click "Save changes" | Save fails. Error: "Username cannot exceed 30 characters". |
| TC-018 | Bio at exactly 200 characters is accepted | Edge Case | P2 - High | BR-074 | editor@test.com is logged in. Profile edit form open. | bio: "a" repeated 200 times (200 chars) | 1. Go to Edit Profile 2. Enter exactly 200-character bio 3. Click "Save changes" | Profile saved. No bio length error. |
| TC-019 | Website URL starting with http:// (not https) is accepted | Edge Case | P2 - High | BR-075 | editor@test.com is logged in. Profile edit form open. | website: http://janesmith.com | 1. Go to Edit Profile 2. Enter website: http://janesmith.com 3. Click "Save changes" | Saved successfully. Both http:// and https:// are accepted. |
| TC-020 | Avatar at exactly 5 MB is accepted | Edge Case | P2 - High | BR-076 | editor@test.com is logged in. Profile edit form open. | avatar: exactly_5mb.jpg (JPEG, 5.00 MB, 400√ó400 px) | 1. Go to Edit Profile 2. Select exactly_5mb.jpg 3. Click "Save changes" | Avatar uploaded without error. Profile shows new avatar. |
| TC-021 | Username change on exactly day 30 after last change is accepted | Edge Case | P1 - Critical | BR-073 | editor@test.com is logged in. Last username change was exactly 30 days ago. | username: fresh_name_30 | 1. Go to Edit Profile 2. Enter new username: fresh_name_30 3. Click "Save changes" | Username updated successfully. No lockout error. |
| TC-022 | Username change on day 29 after last change is rejected | Edge Case | P1 - Critical | BR-073 | editor@test.com is logged in. Last username change was 29 days ago. | username: rejected_name | 1. Go to Edit Profile 2. Enter username: rejected_name 3. Click "Save changes" | Save fails. Error: "You can only change your username once every 30 days". |
| TC-023 | Suspended user's profile is not publicly visible | Edge Case | P1 - Critical | BR-078 | User "suspended_user" has been suspended by admin. No active session. | username: suspended_user | 1. Navigate to https://unsplash.com/@suspended_user | Account suspended notice shown. Profile content not publicly visible. OR 404 page displayed. |

### üîí Security

| ID | Title | Type | Priority | Rule Ref | Precondition | Test Data | Steps | Expected Result |
|---|---|---|---|---|---|---|---|---|
| TC-024 | Unauthenticated user cannot access edit profile endpoint | Security | P1 - Critical | BR-072 | No active session. | GET/POST to /account/settings | 1. Without logging in, navigate to profile edit URL or POST edit form | Redirect to /login. Edit form not displayed. Server returns 401 if API request without auth. |
| TC-025 | IDOR ‚Äî user cannot edit another user's profile | Security | P1 - Critical | BR-072 | User attacker@test.com is logged in. | POST to /account/settings with victim@test.com's account ID | 1. Log in as attacker@test.com 2. Intercept edit profile request 3. Modify user_id or profile_id to victim@test.com's ID 4. Submit | Server returns 403 Forbidden. No changes made to victim's profile. Edit is only applied to the authenticated user's own profile. |
| TC-026 | XSS payload in bio field is not executed on profile page | Security | P1 - Critical | BR-072, BR-074 | editor@test.com is logged in. | bio: `<script>alert('XSS')</script>` | 1. Log in as editor@test.com 2. Go to Edit Profile 3. Enter bio: `<script>alert('XSS')</script>` 4. Save 5. Navigate to https://unsplash.com/@editor | No JavaScript alert triggered. Bio content displayed as plain text on public profile page. |
| TC-027 | XSS payload in name field is not executed | Security | P1 - Critical | BR-070, BR-072 | editor@test.com is logged in. | first_name: `<img src=x onerror=alert(1)>` | 1. Go to Edit Profile 2. Enter first_name: `<img src=x onerror=alert(1)>` 3. Save 4. Visit profile page | No JavaScript alert. Name displayed as plain text (HTML-escaped). |
| TC-028 | SQL injection in username field does not expose DB errors | Security | P1 - Critical | BR-072 | editor@test.com is logged in. | username: `'; DROP TABLE users;--` | 1. Go to Edit Profile 2. Enter username: `'; DROP TABLE users;--` 3. Save | Save fails with format validation error. No SQL error, stack trace, or DB schema exposed. System continues functioning. |
| TC-029 | Website URL with javascript: protocol is rejected | Security | P1 - Critical | BR-075 | editor@test.com is logged in. Profile edit form open. | website: `javascript:alert('XSS')` | 1. Go to Edit Profile 2. Enter website: javascript:alert('XSS') 3. Click "Save changes" | Save fails. Error: "Website URL must start with http:// or https://". JavaScript protocol URL is rejected. No XSS vector via website link. |
| TC-030 | Avatar upload with embedded script in EXIF data is stored safely | Security | P1 - Critical | BR-076 | editor@test.com is logged in. | avatar: valid JPEG with malicious script in EXIF metadata | 1. Upload JPEG with script in EXIF 2. Save profile 3. View avatar URL | Avatar stored as static image. Embedded EXIF script NOT executed. File served with correct Content-Type: image/jpeg header. No server-side code execution. |

---

## Traceability Matrix

| Rule ID | Rule Description | Covered By | Status |
|---|---|---|---|
| BR-068 | Profile URL: https://unsplash.com/@{username} | TC-001, TC-004, TC-014 | ‚úÖ Covered |
| BR-069 | Profile publicly visible | TC-001, TC-014, TC-024 | ‚úÖ Covered |
| BR-070 | Profile shows: avatar, name, bio, location, website, social | TC-001, TC-026, TC-027 | ‚úÖ Covered |
| BR-071 | Profile tabs: Photos, Likes, Collections | TC-002 | ‚úÖ Covered |
| BR-072 | Editable fields: name, username, bio, location, website, portfolio, social | TC-003, TC-007, TC-008, TC-025, TC-028, TC-029 | ‚úÖ Covered |
| BR-073 | Username change: once per 30 days | TC-004, TC-006, TC-021, TC-022 | ‚úÖ Covered |
| BR-074 | Bio max 200 characters | TC-009, TC-018, TC-026 | ‚úÖ Covered |
| BR-075 | Website URL: http:// or https:// | TC-010, TC-019, TC-029 | ‚úÖ Covered |
| BR-076 | Avatar: JPEG/PNG, max 5 MB, min 200√ó200 | TC-005, TC-011, TC-012, TC-013, TC-020, TC-030 | ‚úÖ Covered |
| BR-077 | Profile stats: photos, downloads, views | TC-001 | ‚úÖ Covered |
| BR-078 | Admins can suspend/deactivate accounts | TC-023 | ‚úÖ Covered |
| BR-079 | Inactive 0-photo accounts: username reclaimed after 12 months | ‚Äî | ‚ö†Ô∏è Admin/system policy ‚Äî not UI-testable |
| BR-080 | Inactive 1+-photo accounts: username reclaimed after 24 months | ‚Äî | ‚ö†Ô∏è Admin/system policy ‚Äî not UI-testable |

### Coverage Gaps ‚Äî BR-079, BR-080

```
‚ö†Ô∏è COVERAGE GAP: BR-079, BR-080

Gap type: Admin/system policy rules (inactivity-based username reclaim)
Affected TC types: All
Impact: These rules describe an automated or admin-triggered process that
        occurs after extended periods of inactivity (12‚Äì24 months).
        No manual UI test can simulate this timeline.

Action: Add admin tool or system job specification to the spec.
        Test should be done via admin console or by triggering the
        inactivity check in a controlled test environment with mocked timestamps.
```

---

## Coverage Summary

| Type | Count |
|---|---|
| üü¢ Happy Path | 5 |
| üî¥ Negative | 9 |
| üü° Edge Case | 9 |
| üîí Security | 7 |
| **Total** | **30** |

**Rule Coverage:** 11 / 13 rules = **84.6%**
**Uncovered:** BR-079, BR-080 ‚Äî admin/system inactivity policy rules, not UI-testable

---

## Test Execution Report

```
Feature:      User Profile
Source Spec:  SPEC_UNSPLASH.md ‚Äî Feature 8
Tester:       ___________
Date:         ___________
Environment:  ___________
Build/Version:___________

| Total TCs | Pass | Fail | Blocked | Not Run |
|-----------|------|------|---------|---------|
|    30     |      |      |         |         |

Defects Found:
| Bug ID | TC ID | Rule Ref | Description | Severity | Status |
|--------|-------|----------|-------------|----------|--------|
|        |       |          |             |          |        |

Sign-off:
[ ] QC Lead Review: ___________
[ ] Security Review (if applicable): ___________
[ ] Ready for Release
```
